# BESU ENTERPRISE CONFIGURATION - PRIVATE NETWORK
# ===============================================================================
# Generated for ${NETWORK_NAME} (Chain ID: ${CHAIN_ID})

# Network Configuration
genesis-file="/etc/besu/genesis.json"
data-path="/data"
node-private-key-file="/data/key"

# SYNCHRONIZATION - Optimized for Private Networks
sync-mode="${SYNC_MODE}"

# Storage - Production Performance
data-storage-format="${DATA_STORAGE_FORMAT}"
key-value-storage="rocksdb"
cache-last-blocks=1000
bonsai-historical-block-limit=1000
receipt-compaction-enabled=true
bonsai-limit-trie-logs-enabled=true

# P2P Network - Kubernetes Ready
p2p-enabled=true
p2p-host="0.0.0.0"
p2p-port=${P2P_PORT}
max-peers=20
discovery-enabled=false
nat-method="NONE"

# Mining/Consensus QBFT
miner-enabled=true
min-gas-price=${MIN_GAS_PRICE}

# JSON-RPC API - Kubernetes Configuration
rpc-http-enabled=true
rpc-http-host="0.0.0.0"
rpc-http-port=${RPC_HTTP_PORT}
rpc-http-api=["ETH","NET","WEB3","QBFT","PERM","ADMIN","DEBUG","TXPOOL"]
rpc-http-cors-origins=["*"]
host-allowlist=["*"]

# WebSocket JSON-RPC - Real-time Monitoring
rpc-ws-enabled=true
rpc-ws-host="0.0.0.0"
rpc-ws-port=${RPC_WS_PORT}
rpc-ws-api=["ETH","NET","WEB3","QBFT","ADMIN"]

# Engine API - Disabled for QBFT Private Networks
engine-rpc-enabled=false

# Transaction Pool - Modern Configuration
tx-pool="layered"
tx-pool-layer-max-capacity=25000000
tx-pool-max-prioritized=4000
tx-pool-max-future-by-sender=200
strict-tx-replay-protection-enabled=true

# Metrics - Enterprise Monitoring
metrics-enabled=true
metrics-host="0.0.0.0"
metrics-port=${METRICS_PORT}
metrics-category=["BLOCKCHAIN","PEERS","PROCESS","NETWORK","SYNCHRONIZER","TRANSACTION_POOL","RPC","KVSTORE_ROCKSDB","KVSTORE_ROCKSDB_STATS","EXECUTORS","BLOCK_PROCESSING","PERMISSIONING"]

# Logging - Production Ready
logging="INFO"
color-enabled=false

# Local Permissions - Node Access Control
permissions-nodes-config-file-enabled=true
permissions-nodes-config-file="/etc/besu/permissions_config.toml"
permissions-accounts-config-file-enabled=true
permissions-accounts-config-file="/etc/besu/permissions_config.toml"
static-nodes-file="/etc/besu/static-nodes.json"
